/*
 *switches.c
 *JR-808 firmware ATMEGA328PB
 *minisystem
 *system79.com
*/

#include <stdio.h>
#include <avr/io.h>
#include "switches.h"
#include "spi.h"

struct button button[NUM_BUTTONS] = {
	
{	1<<4	,	4	,0,0,0},
{	1<<5	,	4	,0,0,0},
{	1<<6	,	4	,0,0,0},
{	1<<7	,	4	,0,0,0},
{	1<<0	,	4	,0,0,0},
{	1<<1	,	4	,0,0,0},
{	1<<2	,	4	,0,0,0},
{	1<<3	,	4	,0,0,0},
{	1<<4	,	3	,0,0,0},
{	1<<5	,	3	,0,0,0},
{	1<<6	,	3	,0,0,0},
{	1<<7	,	3	,0,0,0},
{	1<<0	,	3	,0,0,0},
{	1<<1	,	3	,0,0,0},
{	1<<2	,	3	,0,0,0},
{	1<<3	,	3	,0,0,0},
{	1<<5	,	2	,0,0,0},
{	1<<6	,	2	,0,0,0},
{	1<<7	,	2	,0,0,0},
{	1<<0	,	1	,0,0,0},
{	1<<1	,	1	,0,0,0},
{	1<<2	,	1	,0,0,0},
{	1<<3	,	1	,0,0,0},
{	1<<4	,	1	,0,0,0},
{	1<<5	,	1	,0,0,0},
{	1<<6	,	1	,0,0,0},
{	1<<7	,	1	,0,0,0},
{	1<<0	,	0	,0,0,0},
{	1<<1	,	0	,0,0,0},
{	1<<2	,	0	,0,0,0},
{	1<<0	,	2	,0,0,0},
{	1<<1	,	2	,0,0,0},
{	1<<2	,	2	,0,0,0},
{	1<<3	,	2	,0,0,0},
{	1<<4	,	2	,0,0,0}	
	
	
	};
	
void parse_switch_data(void) {
	
	for (int i = 0; i < NUM_BUTTONS; i++) {
		
		button[i].current_state = (switch_states[button[i].spi_byte] & button[i].spi_bit) & 1; 
		
	}
	
	
}	